<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L'autre cinéma</title>
  <link href="./src/css/reset.css" rel="stylesheet">
  <link href="./src/css/style.css" rel="stylesheet">
</head>

<body>
  <header class="grid">
    <a href="/index.html">
      <img class="header-logo" src="/src/image/logo-red.svg" alt="logo de l'autre cinéma">
    </a>
    <nav>
      <ul class="menu">
        <li><a href="/index.html" class="menu-link">Accueil</a></li>
        <li><a href="/videos.html" class="menu-link active"> Nos épisodes</a></li>
        <li><a href="/showtime.html" class="menu-link">Showtime</a></li>
        <li>
          <a href="./videos.html">
            <svg class="search-header" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
            </svg>
          </a>
        </li>
      </ul>
      <div class="menu-btn">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </nav>
  </header>
  <div id="loader"></div>

  <script>
    window.addEventListener('load', function() {
      var loader = document.getElementById('loader');
      loader.style.display = 'none';
      document.querySelector('main').style.visibility = 'visible'; // Sélectionnez la balise main correctement
    });

    document.addEventListener('DOMContentLoaded', function() {
      const menuBtn = document.querySelector('.menu-btn');
      const menu = document.querySelector('.menu');

      const menuItem = document.querySelectorAll('.nav__link');
      const bars = document.querySelectorAll('.bar');

      menuBtn.addEventListener('click', function() {
        menuBtn.classList.toggle('active');
        menu.classList.toggle('active');
        bars.forEach(bar => bar.classList.toggle('active'));
      });

      menuItem.forEach(menuItem => {
        menuItem.addEventListener('click', function() {
          menuBtn.classList.toggle('active');
          menu.classList.toggle('active');
          bars.forEach(bar => bar.classList.toggle('active'));
        });
      });
    });
  </script>
  <main class="grid-2">
    <form id="searchForm" role="search">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
      </svg>
      <input id="search" type="search" placeholder="Rechercher une émission" required autocomplete="off"/>
    </form>
    <div id="searchResults"></div>
    <section class="new">
      <h2>Nouveauté</h2>
        <a class="link-card" href="/episodes/episode1.html" data-link="./episodes/episode1.html">
          <div class="card card-red">
            <div class="card-content">
              <div class="card-img"><img src="/src/image/Studio.jpg" alt="vignette de l'épisode"></div>
              <div class="col">
                <h3>Le son dans le cinéma</h3>
                <p class="duration">00:51</p>
              </div>
              <svg class="icon-play play-one" width="37" height="46" viewBox="0 0 37 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 3.72606V42.2739C0 45.2134 3.13079 46.9994 5.54187 45.3994L34.8346 26.1255C37.0657 24.6744 37.0657 21.3256 34.8346 19.8373L5.54187 0.60056C3.13079 -0.9994 0 0.786602 0 3.72606Z" fill="white" />
              </svg>
            </div>
          </div>
        </a>
    </section>

    <section class="episode">
      <h2>Nos épisodes</h2>
      <div id="searchResults"></div>
      <a class="link-card" href="/episodes/episode1.html" data-link="./episodes/episode1.html">
        <div class="card">
          <div class="card-content">
            <div class="card-img"><img src="/src/image/Studio.jpg" alt="vignette de l'épisode"></div>
            <div class="col">
              <h3>Le son dans le cinéma</h3>
              <p class="duration">00:51</p>
            </div>
            <svg class="icon-play" width="37" height="46" viewBox="0 0 37 46" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 3.72606V42.2739C0 45.2134 3.13079 46.9994 5.54187 45.3994L34.8346 26.1255C37.0657 24.6744 37.0657 21.3256 34.8346 19.8373L5.54187 0.60056C3.13079 -0.9994 0 0.786602 0 3.72606Z" fill="white" />
            </svg>
          </div>
        </div>
      </a>
        <div class="card disabled">
          <div class="card-content">
            <div class="card-img"><img src="/src/image/maquillage.jpg" alt="vignette de l'épisode"></div>
            <div class="col">
              <h3>Le maquillage dans le cinéma</h3>
              <p class="duration">13:42</p>
            </div>
            <svg class="icon-play" width="37" height="46" viewBox="0 0 37 46" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 3.72606V42.2739C0 45.2134 3.13079 46.9994 5.54187 45.3994L34.8346 26.1255C37.0657 24.6744 37.0657 21.3256 34.8346 19.8373L5.54187 0.60056C3.13079 -0.9994 0 0.786602 0 3.72606Z" fill="white" />
            </svg>
          </div>
        </div>
        <div class="card disabled">
          <div class="card-content">
            <div class="card-img"><img src="/src/image/Décor.jpg" alt="vignette de l'épisode"></div>
            <div class="col">
              <h3>Les décorateurs dans le cinéma</h3>
              <p class="duration">13:36</p>
            </div>
            <svg class="icon-play" width="37" height="46" viewBox="0 0 37 46" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 3.72606V42.2739C0 45.2134 3.13079 46.9994 5.54187 45.3994L34.8346 26.1255C37.0657 24.6744 37.0657 21.3256 34.8346 19.8373L5.54187 0.60056C3.13079 -0.9994 0 0.786602 0 3.72606Z" fill="white" />
            </svg>
          </div>
        </div>
    </section>

  </main>
  <footer>
    <img class="footer-logo" src="/src/image/logo-white.svg" fill="#FFF">
    <p>Projet étudiant MMI Bordeaux - <a>Mentions légales</a> - <a>Politique de confidentialité</a></p>
    <p>Showtime</p>
  </footer>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var searchInput = document.getElementById('search');
      var titles = document.querySelectorAll('.episode .card h3');
      var links = document.querySelectorAll('.episode .link-card');
      var searchResults = document.getElementById('searchResults');

      // Fonction pour filtrer les titres
      function filterTitles() {
        var searchTerm = searchInput.value.trim().toLowerCase();

        // Vérifier si le champ de recherche est vide
        if (searchTerm === '') {
          searchResults.innerHTML = ''; // Effacer les résultats si le champ est vide
          return;
        }

        var filteredTitles = Array.from(titles).filter(function(title) {
          return title.textContent.toLowerCase().includes(searchTerm);
        });

        // Construire le HTML des résultats de la recherche avec des liens
        var html = '';
        filteredTitles.forEach(function(title) {
          // Récupérer le lien de la carte parente de titre
          var link = title.closest('.link-card').getAttribute('data-link');
          html += '<a href="' + link + '"><p class="search-result">' + title.textContent + '</p></a>';
        });

        // Afficher les résultats dans la div searchResults
        searchResults.innerHTML = html;
      }

      // Écouter les événements de saisie dans le champ de recherche
      searchInput.addEventListener('input', filterTitles);
    });
  </script>

</body>

</html>
